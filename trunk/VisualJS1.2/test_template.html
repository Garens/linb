<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html style="height:100%" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="keywords" content="javascript framework, RIA, SPA, client SOA, linb, jsLinb, RAD, IDE, Web IDE, widgets, javascript OOP, opensource, open-source, Ajax, cross-browser, prototype, web2.0, platform-independent, language-independent" />
    <meta name="description" content="Web application created by Visual JS, powered by LINB framework" />
    <meta name="copyright" content="copyright@www.linb.net" />
    <meta http-equiv="imagetoolbar" content="no" />

    <title>Visual JS, powered by LINB</title>
    <script type="text/javascript" src="jsLinb/js/linb.js"></script>
    <script type="text/javascript" src="jsLinb/js/event.js"></script>
    <script type="text/javascript" src="jsLinb/js/dom.js"></script>
    <script type="text/javascript" src="jsLinb/js/template.js"></script>

    <!--script type="text/javascript" src="jsLinb/js/logger.js"></script-->

</head>
    <body style="height:100%;overflow:hidden;" scroll="no">
        <script type="text/javascript">
            var tpl = (new linb.template)
                .setTemplate('<div onmouseover="[$e]" onmouseout="[$e]" >{id}{item}</div>')
                .setTemplate('item', '<p><a href="{href}" evkey="item" evid="{id}" onclick="[$e]">{caption}</a></p>')
                .setEvents({
                    onMouseover:function(p,e,s){
                        linb([s]).setStyle('border','solid 1px');
                    },
                    onMouseout:function(p,e,s){
                        linb([s]).setStyle('border','0');
                    },
                    item:{
                        beforeClick:function(p,e,s){
                            linb.log('beforeClick',p);
                        },
                        onClick:function(p,e,s){
                            linb.log('onclick',e)
                        },
                        afterClick:function(p,e,s){
                            linb.log('afterClick', s.getAttribute('evid'))
                        }
                    }
                });

                render1=function(){
                    tpl
                    .setProperties({
                        id:'id',
                        item:[{
                            id:'id1',
                            href:'#',
                            caption:'test1'
                        },{
                            id:'id2',
                            href:'#',
                            caption:'test2'
                        },{
                            id:'id3',
                            href:'#',
                            caption:'test3'
                        }]
                    })
                    .renderTo('memo1');
                },
                render2=function(){
                    tpl.setProperties({
                        id:'rid',
                        item:[{
                            id:'id11',
                            href:'#',
                            caption:'testr1'
                        },{
                            id:'id12',
                            href:'#',
                            caption:'testr2'
                        },{
                            id:'id13',
                            href:'#',
                            caption:'testr3'
                        }]
                    })
                    .renderTo('memo1');
                },
                autoTest=function(){
                    var funs=[];
                    for(var i=0;i<1000;i++)
                        funs.push(render1,render2);
                    linb.thread(null,funs,100).start();
                };
        </script>

        <div id='memo1' style='border:solid 1px;width:300px;height:100px;'></div>

        <button onclick='render1()'>render1</button>
        <button onclick='render2()'>render2</button>
        <button onclick='autoTest()'>autoTest</button>
    </body>
</html>